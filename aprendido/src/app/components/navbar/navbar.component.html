<nav class="navbar">
  <div class="navbar-container">
    <!-- Brand -->
    <a routerLink="/" class="navbar-brand">
      🛒 Mi Tienda
    </a>

    <!-- Navigation Links -->
    <ul class="navbar-nav">
      <li>
        <a routerLink="/shop" routerLinkActive="active" class="nav-link">
          🏪 Tienda
        </a>
      </li>

      <li>
        <a routerLink="/cart" routerLinkActive="active" class="nav-link cart-link">
          🛒 Carrito
          <span class="cart-badge" *ngIf="cartItemCount > 0">{{ cartItemCount }}</span>
        </a>
      </li>

      <!-- Admin Link (only for admins) -->
      <li *ngIf="isAdmin()">
        <a routerLink="/admin" routerLinkActive="active" class="nav-link">
          ⚙️ Admin
        </a>
      </li>
    </ul>

    <!-- User Menu -->
    <div class="user-menu" *ngIf="currentUser; else authLinks">
      <div class="user-info">
        <span>👤 {{ currentUser.firstName }} {{ currentUser.lastName }}</span>
        <span class="user-role" [class.admin]="currentUser.role === userRoles.ADMIN">
          {{ currentUser.role === userRoles.ADMIN ? 'Admin' : 'Cliente' }}
        </span>
      </div>
      <button (click)="logout()" class="logout-btn">
        Cerrar Sesión
      </button>
    </div>

    <!-- Auth Links (when not logged in) -->
    <ng-template #authLinks>
      <div class="auth-links">
        <a routerLink="/login" class="btn-outline">Iniciar Sesión</a>
        <a routerLink="/register" class="btn-primary">Registrarse</a>
      </div>
    </ng-template>
  </div>
</nav>
