<!--
  PLANTILLA HTML DEL COMPONENTE NAVBAR

  Esta plantilla define la barra de navegaci贸n principal que aparece en todas las p谩ginas.
  Incluye navegaci贸n, informaci贸n del usuario y funcionalidades seg煤n el rol.
-->

<nav class="navbar">
  <div class="navbar-container">

    <!-- Logo/Marca de la aplicaci贸n -->
    <a routerLink="/" class="navbar-brand">
       Mi Tienda
    </a>

    <!-- Enlaces de navegaci贸n principales -->
    <ul class="navbar-nav">
      <!-- Enlace a la tienda -->
      <li>
        <a routerLink="/shop" routerLinkActive="active" class="nav-link">
           Tienda
        </a>
      </li>

      <!-- Enlace al carrito con contador de items -->
      <li>
        <a routerLink="/cart" routerLinkActive="active" class="nav-link cart-link">
           Carrito
          <!-- Badge con el n煤mero de items en el carrito -->
          <span class="cart-badge" *ngIf="cartItemCount > 0">{{ cartItemCount }}</span>
        </a>
      </li>

      <!-- Enlace al panel de administraci贸n (solo para administradores) -->
      <li *ngIf="isAdmin()">
        <a routerLink="/admin" routerLinkActive="active" class="nav-link">
          锔 Admin
        </a>
      </li>
    </ul>

    <!-- Men煤 del usuario autenticado -->
    <div class="user-menu" *ngIf="currentUser; else authLinks">
      <!-- Informaci贸n del usuario actual -->
      <div class="user-info">
        <span> {{ currentUser.firstName }} {{ currentUser.lastName }}</span>
        <!-- Indicador del rol del usuario -->
        <span class="user-role" [class.admin]="currentUser.role === userRoles.ADMIN">
          {{ currentUser.role === userRoles.ADMIN ? 'Admin' : 'Cliente' }}
        </span>
      </div>
      <!-- Bot贸n de logout -->
      <button (click)="logout()" class="logout-btn">
        Cerrar Sesi贸n
      </button>
    </div>

    <!-- Enlaces de autenticaci贸n (cuando no hay usuario logueado) -->
    <ng-template #authLinks>
      <div class="auth-links">
        <a routerLink="/login" class="btn-outline">Iniciar Sesi贸n</a>
        <a routerLink="/register" class="btn-primary">Registrarse</a>
      </div>
    </ng-template>
  </div>
</nav>
